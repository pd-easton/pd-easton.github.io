<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh Sách Sản Phẩm</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .search-container {
            text-align: center;
            margin-bottom: 20px;
        }
        .search-container input {
            padding: 10px;
            width: 300px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .product-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .product {
            background: white;
            border: 1px solid #ccc;
            border-radius: 8px;
            margin: 10px;
            padding: 15px;
            width: 200px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            transition: transform 0.2s;
        }
        .product img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
        }
        .product:hover {
            transform: scale(1.05);
        }
        .price, .sold-price {
            color: #28a745;
            font-weight: bold;
        }
        .old-price, .sold-old-price {
            color: #dc3545;
        }
        .description {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            text-align: left;
            border-radius: 8px;
        }
        .product:hover .description {
            display: block;
        }

        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 8px;
        }
    </style>
</head>
<body>

    <h1>Danh sách Bakugan sở hữu</h1>
    
    <div class="search-container">
        <input type="text" id="search" placeholder="Tìm kiếm sản phẩm..." onkeyup="filterProducts()">
        <input type="text" id="kwpassword" placeholder="key" onkeyup="showOldPrices()">
    </div>

    <div class="product-container" id="productList">
        <!-- Sản phẩm sẽ được thêm từ JavaScript -->
    </div>

    Đã bán
    <div class="product-container" id="soldProductList">
        
    </div>

    Note "Lỗ":
        <ul id="notelo"></ul>

    <div class="lightbox" id="lightbox" onclick="closeImage()">
        <img id="lightboxImage" src="" alt="">
    </div>

    <script>
        // Mảng chứa dữ liệu sản phẩm
        const products = [
            {
                name: "(gen1) Neo Dragonoid",
                img: "./images/neodragonoid.jpg",
                buyPrice: 115,
                sellPrice: 115,
                description: "Set xác 115k, bkg-gen1 đầu tiên",
            },
            {
                name: "(gen1) Lumagrowl (special)",
                img: "./images/lumagrowl.jpg",
                buyPrice: 300,
                sellPrice: 300,
                description: "Phiên bản lai haos + darkus (zin)."
            },
            {
                name: "(gen1) Dharak",
                img: "./images/dharak.jpg",
                buyPrice: 300,
                sellPrice: 300,
                description: "Dharak nguyên bản"
            },
            {
                name: "(gen1) Dharak (clear)",
                img: "./images/dharakclear.png",
                buyPrice: 700,
                sellPrice: 700,
                description: "700k lận đó :|"
            },
            {
                name: "(gen1) Dharak (custom 1)",
                img: "./images/dharakcustom.jpg",
                buyPrice: 250,
                sellPrice: 250,
                description: "Dharak tự custom màu Arcylic"
            },
            {
                name: "(gen1) Dharak (custom 2)",
                img: "./images/dharakpaintxauvl.jpg",
                buyPrice: 100,
                sellPrice: 100,
                description: "paint xauvl"
            },
            {
                name: "(gen1) Dharak cánh lỏng",
                img: "./images/dharakgear.jpg",
                buyPrice: 150,
                sellPrice: 150,
                description: "Dharak cánh bị lỏng nên bung cái tự động gập xuống, không cần bẻ xuống để gắn gear"
            },
            {
                name: "(gen1) Dharak Darkus-Ventus",
                img: "./images/dharakdarkusventus.jpg",
                buyPrice: 220,
                sellPrice: 220,
                description: "Dharak màu darkus hệ ventus (zin), gờ ngay đuôi không có nên luôn trong trạng thái gập xuống"
            },
            {
                name: "(gen1) Dharak Haos",
                img: "./images/dharakhaos.jpg",
                buyPrice: 150,
                sellPrice: 150,
                description: "Đuôi không có lò xo phần cuối đuôi nên không tự bật được, 2 cánh khi bung tự động bật xuống"
            },
            {
                name: "(gen1) Dharak Pyrus",
                img: "./images/dharakpyrus.jpg",
                buyPrice: 200,
                sellPrice: 200,
                description: "ổn, 1 bên cánh khi bụng tự động bật xuống"
            },
            {
                name: "(gen1) Dharak Subterra",
                img: "./images/dharaksubterra.jpg",
                buyPrice: 150,
                sellPrice: 150,
                description: "ổn, đẹp"
            },
            {
                name: "(gen1) Dharak Ventus",
                img: "./images/dharakventus.jpg",
                buyPrice: 150,
                sellPrice: 150,
                description: "ổn, trầy hệ nhẹ"
            },
            {
                name: "(gen1) Dharak Aquos 1",
                img: "./images/dharakaquos1.jpg",
                buyPrice: 285,
                sellPrice: 285,
                description: "Con này hàng order TL dìa nên đội phí ship, giá mua có 270 bath thôi, mà ta nói con này nó ghỉ rồi có gãy nữa mà giá 285 muốn khóc hụ hụ, đinh tán"
            },
            {
                name: "(gen1) Dharak Aquos 2",
                img: "./images/dharakaquos2.jpg",
                buyPrice: 180,
                sellPrice: 180,
                description: "Con này mua của shop VN, cay cái là order TL xong shop mới có con này, rẻ hơn tận 100k :||| cay quá nên lụm luôn khỏi ai giành, ốc tam giác"
            },
            {
                name: "(gen1) Dharak Aquos Limited",
                img: "./images/dharakaquoslimited.jpg",
                buyPrice: 268,
                sellPrice: 268,
                description: "Order Thái, 250 bath, ship về VN độn phí ship, hàng limited độ hiếm 8/10"
            },
            {
                name: "(gen1) Dharak Haos Limited Pearl",
                img: "./images/dharakhaoslimitedpearl.jpg",
                buyPrice: 240,
                sellPrice: 240,
                description: "Bid win ở VN, bảng limited crimson and pearl"
            },
            {
                name: "(gen1) AirKor (gear)",
                img: "./images/dharakgear.jpg",
                buyPrice: 350,
                sellPrice: 350,
                description: "Gear của Dharak"
            },
            {
                name: "(gen1) Spartablaster (gear)",
                img: "./images/spartablaster.jpg",
                buyPrice: 180,
                sellPrice: 180,
                description: "Gear của Contestir nhưng cho Dharak haos liệt cánh đeo"
            },
            {
                name: "(gen1) JetKor (gear fake)",
                img: "./images/jetkor.jpg",
                buyPrice: 90,
                sellPrice: 90,
                description: "fake đầu tiên"
            },
            {
                name: "(gen1) Jaakor Pyrus",
                img: "./images/jaakorpyrus.jpg",
                buyPrice: 120,
                sellPrice: 120,
                description: "Bakugan ss4, lăn lăn nhảy nhảy đi lụm tùm lum"
            },
            {
                name: "(gen2) Serpillious (clear)",
                img: "./images/serpi.jpg",
                buyPrice: 630,
                sellPrice: 630,
                description: "gen2 đầu tiên"
            },
            {
                name: "(tech) Flare Dragaon",
                img: "./images/flaredragaon.jpg",
                buyPrice: 200,
                sellPrice: 200,
                description: "tech đầu tiên"
            },
            {
                name: "(tech) Destroy Munikis",
                img: "./images/destroymunikis.jpg",
                buyPrice: 150,
                sellPrice: 150,
                description: "ổn, hơi khó bung tay bên trái"
            },
            {
                name: "(tech) Gavli Anacon",
                img: "./images/gavlianacon.jpg",
                buyPrice: 150,
                sellPrice: 150,
                description: "tech đất lấy cho đủ hệ :|"
            },
            {
                name: "(tech) Saint Aquos (clear)",
                img: "./images/saintaquos.jpg",
                buyPrice: 150,
                sellPrice: 150,
                description: "clear đầu tiên"
            },
            {
                name: "(tech) Van Falco (clear)",
                img: "./images/vanfalco.jpg",
                buyPrice: 150,
                sellPrice: 150,
                description: ""
            },
            {
                name: "(tech) Kinlan Leoness (clear)",
                img: "./images/kinlanleoness.jpg",
                buyPrice: 250,
                sellPrice: 250,
                description: ""
            },
            {
                name: "(tech) Bland Shoult",
                img: "./images/blanshoult.jpg",
                buyPrice: 150,
                sellPrice: 150,
                description: "Thiện lương của Dio, sai đai trên đầu"
            },
            {
                name: "(tech) Dio Sivac",
                img: "./images/diosivac.jpg",
                buyPrice: 50,
                sellPrice: 50,
                description: "Bản ngã của Bland Shoult, phần chân bên phải bị lỗi"
            },
            {
                name: "(tech) Jigen Dragaon",
                img: "./images/jigendragaon.jpg",
                buyPrice: 850,
                sellPrice: 850,
                description: "Trời ơi định để tiền mua Zeta mà va phải con nì 850 :| lỗi ngay cánh với tay đã fix với trầy ngọc te tua nhưng giá ổn nha mn"
            },
            {
                name: "(tech) Go Dragaon",
                img: "./images/godragaon.jpg",
                buyPrice: 1150,
                sellPrice: 1150,
                description: "Go Dragaon, cái part đuôi hong hiểu sao hơi cứng, bung hơi khó"
            },
            {
                name: "(tech) Go Garyu",
                img: "./images/gogaryu.jpg",
                buyPrice: 800,
                sellPrice: 800,
                description: "Con cá xanh xanh có cái đuôi cam cam, mua 1 lần 1m6 chung với Gaga Horus"
            },{
                name: "(tech) Gaga Horus",
                img: "./images/gagahorus.jpg",
                buyPrice: 800,
                sellPrice: 800,
                description: "Con chim cam cam có cái đuôi xanh xanh, mua 1 lần 1m6 chung với Go Garyu"
            },
            {
                name: "(tech) Jiba Fudo (tail)",
                img: "./images/jibafudoduoi.jpg",
                buyPrice: 245,
                sellPrice: 245,
                description: "cái đuôi mua trên sộp pi để cút tôm thành god nhưng làm biếng :|"
            },
            {
                name: "Tiền lỗ (ship, tiền lỗ khi bán hàng,v.v...)",
                img: "./comingsoon.avif",
                buyPrice: 70,
                sellPrice: 0,
                description: "Tiền này bao gồm tiền ship, tiền chênh lệch (lỗ) giữa khi mua và khi bán baku, ừ thì là dị đó :)), tiền ship thì lâu lâu mới tính"
            }
        ];

        const soldproducts = [
            {
                soldname: "(gen1) Abis Omega Ventus (clear)",
                soldimg: "./images/abisomegaventusclear.jpg",
                soldbuyPrice: 180,
                soldsellPrice: 110,
                solddifference: 70,
                solddescription: "Rắn lục clear.",
                soldnote: 'Abis clear mua 180 bán 110 (120 nhưng bao 10k ship): lỗ 70'
            },
        ]

        // Hàm render sản phẩm từ mảng
        function renderProducts() {
            const productList = document.getElementById('productList');
            productList.innerHTML = ''; // Xóa danh sách hiện tại (nếu có)
            var totalPrice = 0;
            products.forEach(product => {
                const productHTML = `
                    <div class="product" onclick="showImage('${product.img}')">
                        <img src="${product.img}" alt="${product.name}">
                        <h2>${product.name}</h2>
                        <p class="old-price">Giá mua: ${product.buyPrice}.000 VNĐ</p>
                        <p class="price" hidden>Giá bán: ${product.sellPrice.toLocaleString()}.000 VNĐ</p>
                        <div class="description">Mô tả: ${product.description}</div>
                    </div>
                `;
                productList.insertAdjacentHTML('beforeend', productHTML);

                totalPrice = totalPrice + product.buyPrice;
            });

            console.log("Total: " + totalPrice);
        }

        // Gọi hàm render khi trang được tải
        renderProducts();

        function renderSoldProducts() {
            const productList = document.getElementById('soldProductList');
            productList.innerHTML = ''; // Xóa danh sách hiện tại (nếu có)
            const notes = document.getElementById("notelo");
            notes.innerHTML = '';
            soldproducts.forEach(product => {
                var diffPrice = 0;
                diffPrice = product.soldsellPrice - product.soldbuyPrice;

                const productHTML = `
                    <div class="product" onclick="showImage('${product.soldimg}')">
                        <img src="${product.soldimg}" alt="${product.soldname}">
                        <h2>${product.soldname}</h2>
                        <p class="sold-old-price">Giá mua: ${product.soldbuyPrice.toLocaleString()}.000 VNĐ</p>
                        <p class="sold-price">Giá bán: ${product.soldsellPrice.toLocaleString()}.000 VNĐ</p>
                        <p class="diff-price">Chênh lệch: ${diffPrice}.000 VNĐ</p>
                        <div class="description">Mô tả: ${product.solddescription}</div>
                    </div>
                `;
                productList.insertAdjacentHTML('beforeend', productHTML);
                
                const noteHTML = `
                    <li>
                        <h5>${product.soldnote}</h5>
                    </li>
                `;

                notes.insertAdjacentHTML('beforeend', noteHTML);
            });
        }

        renderSoldProducts();

        // Hàm lọc sản phẩm theo tìm kiếm
        function filterProducts() {
            const searchInput = document.getElementById('search').value.toLowerCase();
            const products = document.querySelectorAll('.product');
            
            products.forEach(product => {
                const productName = product.querySelector('h2').innerText.toLowerCase();
                if (productName.includes(searchInput)) {
                    product.style.display = '';
                } else {
                    product.style.display = 'none';
                }
            });
        }

        // Hiển thị ảnh trong lightbox
        function showImage(src) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightboxImage');
            lightboxImage.src = src;
            lightbox.classList.add('active');
        }

        // Đóng lightbox
        function closeImage() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
        }

        // Ẩn giá mua ban đầu
        const oldPrices = document.getElementsByClassName("old-price");

        Array.from(oldPrices).forEach(function(oldPrice) {
            oldPrice.hidden = true;
        });

        // Hiển thị giá mua khi nhập đúng mật khẩu
        function showOldPrices() {
            const kwInput = document.getElementById('kwpassword').value;
            Array.from(oldPrices).forEach(function(oldPrice) {
                oldPrice.hidden = true;
            });
            if (kwInput == "pd-easton") {
                Array.from(oldPrices).forEach(function(oldPrice) {
                    oldPrice.hidden = false;
                });
            }
        }
    </script>

</body>
</html>
